string $ikKnee = "KNEE FOR IK JOINT ARRAY GOES HERE";
int $kneeRotX = "ROT FOR PREFERED ANGLE VAR GOES HERE";
int $kneeRotY = "ROT FOR PREFERED ANGLE VAR GOES HERE";
int $kneeRotZ = "ROT FOR PREFERED ANGLE VAR GOES HERE";

string $ikStartJoint = "INSERT IK START JOING ARRAY VAR HERE" ;
string $ikEndJoint = "INSERT IK END JOING ARRAY VAR HERE" ;
string $ikStartJointRotPiv = $ikStartJoint + ".rotatePivot" ;
string $ikEndJointRotPiv = ( $ikEndJoint + ".rotatePivot" ) ;




select -r $ikKnee ;
setAttr ( $ikKnee + ".rotateX" ) $kneeRotX;
setAttr ( $ikKnee + ".rotateY" ) $kneeRotY;
setAttr ( $ikKnee + ".rotateZ" ) $kneeRotZ;
joint -e -spa -ch $ikKnee;

setAttr ( $ikKnee + ".rotateX" ) 0;
setAttr ( $ikKnee + ".rotateY" ) 0;
setAttr ( $ikKnee + ".rotateZ" ) 0;
select -cl  ;




IKHandleTool;
select -r $ikStartJointRotPiv ;
select -add $ikEndJointRotPiv ;
ikHandle -sol ikRPsolver;